/*!
 * jQuery FFT Plugin v1.0.3
 * This code is javascript converted version of following VBA source:
 * Tetsuya Kawamura 川村 哲也,
 * エンジニアのためのExcelナビシリーズ 数値計算入門, page 194, (2012)
 * ISBN 987-4-9011092-81-4
 *
 * Copyright 2017 Hideto Manjo
 * Released under the MIT license
 */
(function(h,d){"function"===typeof define&&define.amd?define(d):"object"===typeof exports?module.exports=d():h.FFT=d()})(this,function(){var h=function(d){this.settings=d||{samplingrate:1}};h.prototype={dim:function(d,b){for(var a=d.length;a&a-1;)a+=1,d.push(0),b.push(0);return a},loop:function(d,b){var a=d/2,e=[],c;for(c=0;c<a;c+=1)e.push(b.call(null,c));return e},amplitude:function(d,b){return this.loop(this.dim(d,b),function(a){return Math.sqrt(d[a]*d[a]+b[a]*b[a])})},power:function(d,b){return this.loop(this.dim(d,
b),function(a){return d[a]*d[a]+b[a]*b[a]})},phase:function(d,b){return this.loop(this.dim(d,b),function(a){return Math.atan2(b[a],d[a])})},frequencies:function(d,b,a){var e=a||this.settings.samplingrate,c=this.dim(d,b);return this.loop(c,function(a){return e*a/c})},periods:function(d,b,a){var e=a||this.settings.samplingrate,c=this.dim(d,b);return this.loop(c,function(a){return c/(e*a)})},calc:function(d,b,a){var e=this.dim(b,a),c=2*Math.PI/e,h=Math.log2(e),w=1/e,l=e,g,f,n;for(n=0;n<h;n+=1){var p=
0;var q=l;l/=2;for(g=0;g<l;g+=1){var z=g-q;var x=Math.cos(p);var y=-d*Math.sin(p);p+=c;for(f=q;f<e+1;f+=q){var k=f+z;var m=k+l;var r=b[k];var t=b[m];var u=a[k];var v=a[m];b[k]=r+t;a[k]=u+v;b[m]=(r-t)*x+(u-v)*y;a[m]=(u-v)*x-(r-t)*y}}c*=2}for(c=f=0;c<e-1;c+=1){c<f&&(g=b[f],h=a[f],b[f]=b[c],a[f]=a[c],b[c]=g,a[c]=h);for(g=e/2;!(g>f);)f-=g,g/=2;f+=g}if(0>d)for(c=0;c<e;c+=1)b[c]*=w,a[c]*=w;return[b,a]}};return h});